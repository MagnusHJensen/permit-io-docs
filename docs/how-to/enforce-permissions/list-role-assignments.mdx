---
sidebar_position: 6
title: Locally get list of role assignments
---


import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

To get the list of role assignments from the local PDP, you can use the `permit.pdp_api.role_assignments.list` function.<br />
This function accepts optional `user_key`, `tenant_key`, `resource_key`, `role_key`, `resource_instance_key` filters,
and returns a list of role assignments that match the filters. <br />
The function interacts with the local PDP and does not make any external API calls, making it faster and more efficient.
The response contains list of objects with the following fields:
- `user_key` - The user to whom the role is assigned.
- `tenant_key` - The tenant to which the role is assigned,
    in case of resource role, this represents the tenant that the resource instance is associated with.
- `role_key` - The role assigned to the user.
- `resource_instance_key` ( optional ) - The resource instance to which the role is assigned.

The schema of the response is as follows:
```json
[
    {
        "user": "jane@coolcompany.com",
        "role": "admin",
        "tenant": "stripe-inc"
    },
    {
        "user": "jane@coolcompany.com",
        "role": "admin",
        "tenant": "stripe-inc",
        "resource_instance": "document:doc-1234"
    }
]
```

:::note Pagination

This function is paginated and returns a maximum of 100 role assignments per page. <br />
You can use the `page` and `per_page` parameters to navigate through the pages.

:::

:::info

To use this function, the minimum required pdp version is permitio/pdp-v2:0.3.0.

:::



## Simple Usage

To get the list of role assignments from the local PDP, you can use the following code snippet:

<Tabs groupId="language">
<TabItem value="python" label="Python">

```python
from permit.models.pdp import RoleAssignmentRead

permissions: RoleAssignmentRead = permit.local.role_assignments.list();

```

</TabItem>
</Tabs>

## Usage with filters

You can also filter the role assignments based on the `user`, `tenant`, `resource`, `role`, `resource_instance` filters.<br />
You can mix any one of the filters without any restrictions.

### Filter by user

<Tabs groupId="language">
<TabItem value="python" label="Python">

```python
from permit.models.pdp import RoleAssignmentRead

permissions: RoleAssignmentRead = permit.pdp_api.role_assignments.list(
    user="John",
)

```

</TabItem>
</Tabs>


### Filter by Resource Instance

<Tabs groupId="language">
<TabItem value="python" label="Python">

```python
from permit.models.pdp import RoleAssignmentRead

permissions: RoleAssignmentRead = permit.local.role_assignments.list(
    resource_instance="document:onboarding-doc",
)

```

</TabItem>
</Tabs>


